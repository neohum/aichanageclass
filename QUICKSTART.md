# ğŸš€ ë¹ ë¥¸ ì‹œì‘ ê°€ì´ë“œ

## Backend í…ŒìŠ¤íŠ¸ (í˜„ì¬ êµ¬í˜„ ì™„ë£Œ)

### 1. í™˜ê²½ ì„¤ì •

```bash
# í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ë¡œ ì´ë™
cd backend

# ê°€ìƒí™˜ê²½ ìƒì„±
python -m venv venv

# ê°€ìƒí™˜ê²½ í™œì„±í™”
# Windows:
venv\Scripts\activate
# Mac/Linux:
source venv/bin/activate

# ì˜ì¡´ì„± ì„¤ì¹˜
pip install -r requirements.txt
```

### 2. ì„œë²„ ì‹¤í–‰

```bash
# ê°œë°œ ì„œë²„ ì‹œì‘
python main.py
```

ì„œë²„ê°€ `http://127.0.0.1:8000`ì—ì„œ ì‹¤í–‰ë©ë‹ˆë‹¤.

### 3. API ë¬¸ì„œ í™•ì¸

ë¸Œë¼ìš°ì €ì—ì„œ ì ‘ì†:
- **Swagger UI**: http://127.0.0.1:8000/docs
- **ReDoc**: http://127.0.0.1:8000/redoc

### 4. í…ŒìŠ¤íŠ¸ ì˜ˆì œ ì‹¤í–‰

```bash
# ìƒ˜í”Œ ë°ì´í„°ë¡œ ë°˜í¸ì„± í…ŒìŠ¤íŠ¸
python test_example.py
```

ì´ ìŠ¤í¬ë¦½íŠ¸ëŠ”:
- 60ëª…ì˜ ìƒ˜í”Œ í•™ìƒ ìƒì„±
- 4ê°œì˜ ê·œì¹™ ìƒì„± (ì„±ë³„ ê· í˜•, ì„±ì  ê· í˜•, íŠ¹ë³„ê´€ë¦¬ ë¶„ì‚°, ë¦¬ë”ì‹­ ë¶„ì‚°)
- 3ê°€ì§€ ì•Œê³ ë¦¬ì¦˜ ë¹„êµ (Random, Greedy, Genetic)
- ê²°ê³¼ í†µê³„ ì¶œë ¥

**ì˜ˆìƒ ì¶œë ¥:**
```
============================================================
ë°˜í¸ì„± ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸
============================================================

ğŸ“Š ë°ì´í„°:
  - í•™ìƒ ìˆ˜: 60ëª…
  - ë°˜ ê°œìˆ˜: 3ê°œ
  - ê·œì¹™ ìˆ˜: 4ê°œ

ğŸ“‹ ê·œì¹™:
  - ì„±ë³„ ê· í˜• (ìš°ì„ ìˆœìœ„: 10, ê°€ì¤‘ì¹˜: 1.5)
  - ì„±ì  ê· í˜• (ìš°ì„ ìˆœìœ„: 8, ê°€ì¤‘ì¹˜: 1.0)
  - íŠ¹ë³„ê´€ë¦¬ í•™ìƒ ë¶„ì‚° (ìš°ì„ ìˆœìœ„: 9, ê°€ì¤‘ì¹˜: 1.2)
  - ë¦¬ë”ì‹­ í•™ìƒ ë¶„ì‚° (ìš°ì„ ìˆœìœ„: 7, ê°€ì¤‘ì¹˜: 0.8)

ğŸš€ ë°˜í¸ì„± ì‹œì‘...

--- ë¬´ì‘ìœ„ ì•Œê³ ë¦¬ì¦˜ ---
ì´ì : 65.23
...

--- íƒìš• ì•Œê³ ë¦¬ì¦˜ ---
ì´ì : 78.45
...

--- ìœ ì „ ì•Œê³ ë¦¬ì¦˜ ---
ì´ì : 92.18
...

ğŸ† ìµœê³  ì„±ëŠ¥: ìœ ì „ (92.18ì )
```

## ğŸ“ ì‹¤ì œ ì‚¬ìš© ì˜ˆì œ

### 1. í•™êµ ìƒì„±

```bash
curl -X POST "http://localhost:8000/api/schools/" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "ì„œìš¸ì´ˆë“±í•™êµ",
    "custom_field_definitions": [],
    "settings": {"default_class_size": 30}
  }'
```

### 2. Excel íŒŒì¼ ì—…ë¡œë“œ

Excel íŒŒì¼ ì¤€ë¹„ (`students.xlsx`):

| í•™ë…„ | ë°˜ | ë²ˆí˜¸ | ì´ë¦„ | ì„±ë³„ | ì„±ì  | íŠ¹ê¸° | ë¦¬ë”ì‹­ì ìˆ˜ |
|------|-----|------|------|------|------|------|------------|
| 3 | 1 | 1 | í™ê¸¸ë™ | ë‚¨ | 85 | ìš´ë™ | 4 |
| 3 | 1 | 2 | ê¹€ì˜í¬ | ì—¬ | 92 | í•™ìŠµ | 5 |
| 3 | 1 | 3 | ì´ì² ìˆ˜ | ë‚¨ | 78 | ì˜ˆìˆ  | 3 |
| ... | ... | ... | ... | ... | ... | ... | ... |

```bash
curl -X POST "http://localhost:8000/api/students/upload-excel?school_id=1" \
  -F "file=@students.xlsx"
```

### 3. ê·œì¹™ ìƒì„±

```bash
# ì„±ë³„ ê· í˜• ê·œì¹™
curl -X POST "http://localhost:8000/api/rules/" \
  -H "Content-Type: application/json" \
  -d '{
    "school_id": 1,
    "name": "ì„±ë³„ ê· í˜•",
    "description": "ê° ë°˜ì˜ ë‚¨ë…€ ë¹„ìœ¨ì„ ë™ì¼í•˜ê²Œ",
    "rule_type": "balance",
    "priority": 10,
    "weight": 1.5,
    "rule_definition": {
      "type": "balance",
      "field": "gender",
      "target": "equal",
      "tolerance": 2
    },
    "is_active": true
  }'

# ì„±ì  ê· í˜• ê·œì¹™
curl -X POST "http://localhost:8000/api/rules/" \
  -H "Content-Type: application/json" \
  -d '{
    "school_id": 1,
    "name": "ì„±ì  ê· í˜•",
    "description": "ê° ë°˜ì˜ í‰ê·  ì„±ì ì„ ë¹„ìŠ·í•˜ê²Œ",
    "rule_type": "balance",
    "priority": 8,
    "weight": 1.0,
    "rule_definition": {
      "type": "balance",
      "field": "ì„±ì ",
      "target": "average",
      "tolerance": 3
    },
    "is_active": true
  }'
```

### 4. ë°˜í¸ì„± ì‹¤í–‰

```bash
curl -X POST "http://localhost:8000/api/assignments/generate" \
  -H "Content-Type: application/json" \
  -d '{
    "school_id": 1,
    "grade": 3,
    "year": 2024,
    "num_classes": 3,
    "name": "2024ë…„ 3í•™ë…„ 1í•™ê¸°",
    "method": "genetic",
    "iterations": 1000
  }'
```

**ì‘ë‹µ ì˜ˆì‹œ:**
```json
{
  "id": 1,
  "total_score": 92.18,
  "rule_scores": {
    "ì„±ë³„ ê· í˜•": 98.5,
    "ì„±ì  ê· í˜•": 87.3,
    "íŠ¹ë³„ê´€ë¦¬ í•™ìƒ ë¶„ì‚°": 95.0,
    "ë¦¬ë”ì‹­ í•™ìƒ ë¶„ì‚°": 88.7
  },
  "statistics": {
    "total_students": 60,
    "class_sizes": {
      "1": 20,
      "2": 20,
      "3": 20
    },
    "gender_distribution": {
      "1": {"ë‚¨": 10, "ì—¬": 10},
      "2": {"ë‚¨": 11, "ì—¬": 9},
      "3": {"ë‚¨": 9, "ì—¬": 11}
    },
    "average_scores": {
      "1": 82.5,
      "2": 83.1,
      "3": 82.8
    }
  },
  "message": "ë°˜í¸ì„±ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤"
}
```

### 5. ê²°ê³¼ ì¡°íšŒ

```bash
# ë°˜í¸ì„± ìƒì„¸ ì¡°íšŒ
curl "http://localhost:8000/api/assignments/1"
```

## ğŸ¯ ë‹¤ìŒ ë‹¨ê³„

1. **Frontend ê°œë°œ**: Tauri + Reactë¡œ UI êµ¬í˜„
2. **ê·œì¹™ UI**: ê·œì¹™ì„ ì‰½ê²Œ ì¶”ê°€/ìˆ˜ì •í•  ìˆ˜ ìˆëŠ” ì¸í„°í˜ì´ìŠ¤
3. **ì‹œê°í™”**: ë°˜ë³„ í†µê³„ ì°¨íŠ¸
4. **LLM í†µí•©**: ìì—°ì–´ë¡œ ê·œì¹™ ì…ë ¥ (ì„ íƒì )

## ğŸ’¡ íŒ

### Excel íŒŒì¼ ì¤€ë¹„ ì‹œ ì£¼ì˜ì‚¬í•­

1. **í•„ìˆ˜ ì»¬ëŸ¼**: í•™ë…„, ì´ë¦„, ì„±ë³„ì€ ë°˜ë“œì‹œ í¬í•¨
2. **ì„±ë³„ í‘œê¸°**: ë‚¨/ì—¬, M/F, ë‚¨ì/ì—¬ì ëª¨ë‘ ê°€ëŠ¥
3. **ì»¤ìŠ¤í…€ ì»¬ëŸ¼**: ì›í•˜ëŠ” ë§Œí¼ ì¶”ê°€ ê°€ëŠ¥
4. **ë¹ˆ ê°’**: ì„ íƒ í•„ë“œëŠ” ë¹„ì›Œë„ ë¨

### ê·œì¹™ ì„¤ì • íŒ

1. **ìš°ì„ ìˆœìœ„**: 1-10 ì‚¬ì´ (10ì´ ê°€ì¥ ì¤‘ìš”)
2. **ê°€ì¤‘ì¹˜**: ê·œì¹™ì˜ ìƒëŒ€ì  ì¤‘ìš”ë„
3. **í—ˆìš© ì˜¤ì°¨**: ì™„ë²½í•œ ê· í˜•ì€ ì–´ë ¤ìš°ë¯€ë¡œ ì ì ˆí•œ ì˜¤ì°¨ ì„¤ì •
4. **ê·œì¹™ ê°œìˆ˜**: ë„ˆë¬´ ë§ìœ¼ë©´ ì¶©ëŒ ê°€ëŠ¥, 5-10ê°œ ê¶Œì¥

### ì•Œê³ ë¦¬ì¦˜ ì„ íƒ

- **Random**: í…ŒìŠ¤íŠ¸ìš©
- **Greedy**: ë¹ ë¥¸ ê²°ê³¼ í•„ìš” ì‹œ (í•™ìƒ ìˆ˜ < 100)
- **Genetic**: ìµœì  ê²°ê³¼ í•„ìš” ì‹œ (ê¶Œì¥, í•™ìƒ ìˆ˜ > 100)

## ğŸ› ë¬¸ì œ í•´ê²°

### í¬íŠ¸ ì¶©ëŒ
```bash
# ë‹¤ë¥¸ í¬íŠ¸ë¡œ ì‹¤í–‰
uvicorn main:app --port 8001
```

### ë°ì´í„°ë² ì´ìŠ¤ ì´ˆê¸°í™”
```bash
rm -rf data/
python main.py
```

### ì˜ì¡´ì„± ì˜¤ë¥˜
```bash
pip install --upgrade pip
pip install -r requirements.txt --force-reinstall
```

