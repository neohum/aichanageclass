# 🚀 실행 가이드

## 전체 시스템 실행 방법

### 방법 1: Tauri 앱 실행 (권장) ⭐

Tauri 앱을 실행하면 **백엔드가 자동으로 시작**됩니다!

```bash
# 1. Frontend 디렉토리로 이동
cd frontend

# 2. 의존성 설치 (최초 1회)
npm install

# 3. Tauri 앱 실행
npm run tauri:dev
```

**완료!** 앱이 실행되면 백엔드도 자동으로 시작됩니다.

---

### 방법 2: 수동 실행 (개발/디버깅용)

백엔드와 프론트엔드를 각각 실행합니다.

#### 터미널 1: 백엔드 실행

```bash
# 1. Backend 디렉토리로 이동
cd backend

# 2. 가상환경 활성화
# Windows:
venv\Scripts\activate
# Mac/Linux:
source venv/bin/activate

# 3. 의존성 설치 (최초 1회)
pip install -r requirements.txt

# 4. 서버 실행
python main.py
```

서버가 `http://127.0.0.1:8000` 에서 실행됩니다.

#### 터미널 2: 프론트엔드 실행

```bash
# 1. Frontend 디렉토리로 이동
cd frontend

# 2. 의존성 설치 (최초 1회)
npm install

# 3. 개발 서버 실행
npm run dev
```

브라우저에서 `http://localhost:5173` 접속

---

## 📋 사용 순서

### 1. 학교 설정 (자동)
- 앱 시작 시 자동으로 "우리 학교" 생성

### 2. 학생 데이터 업로드

**Excel 파일 준비:**

| 학년 | 반 | 번호 | 이름 | 성별 | 성적 | 특기 |
|------|-----|------|------|------|------|------|
| 3 | 1 | 1 | 홍길동 | 남 | 85 | 운동 |
| 3 | 1 | 2 | 김영희 | 여 | 92 | 학습 |
| ... | ... | ... | ... | ... | ... | ... |

**업로드:**
1. 좌측 메뉴에서 "학생 관리" 클릭
2. "Excel 업로드" 버튼 클릭
3. Excel 파일 선택

### 3. 규칙 설정

1. 좌측 메뉴에서 "규칙 설정" 클릭
2. "규칙 추가" 버튼 클릭
3. 규칙 정보 입력:
   - **이름**: 성별 균형
   - **유형**: 균형 규칙
   - **필드**: gender
   - **목표**: 동일
   - **허용 오차**: 2
   - **우선순위**: 10
   - **가중치**: 1.5
4. 저장

### 4. 반편성 실행

1. 좌측 메뉴에서 "반편성" 클릭
2. "새 반편성" 버튼 클릭
3. 정보 입력:
   - **이름**: 2024년 3학년 1학기
   - **학년**: 3
   - **연도**: 2024
   - **반 개수**: 3
   - **알고리즘**: 유전 (권장)
   - **반복 횟수**: 1000
4. 확인 클릭
5. 완료 대기 (약 10-30초)

### 5. 결과 확인

1. 반편성 목록에서 "상세" 버튼 클릭
2. 전체 통계 확인
3. 규칙별 점수 확인
4. 반별 구성 확인

---

## 🧪 테스트 예제 실행

샘플 데이터로 빠르게 테스트:

```bash
cd backend
python test_example.py
```

**출력 예시:**
```
============================================================
반편성 시스템 테스트
============================================================

📊 데이터:
  - 학생 수: 60명
  - 반 개수: 3개
  - 규칙 수: 4개

🚀 반편성 시작...

--- 유전 알고리즘 ---
총점: 92.18

반별 통계:
  1반: 20명 (남:10, 여:10), 평균:82.5점, 특별관리:2명
  2반: 20명 (남:11, 여:9),  평균:83.1점, 특별관리:2명
  3반: 20명 (남:9,  여:11), 평균:82.8점, 특별관리:2명

🏆 최고 성능: 유전 (92.18점)
```

---

## 🐛 문제 해결

### 백엔드 연결 실패

**증상**: "백엔드 서버 연결 실패" 메시지

**해결:**
1. 백엔드가 실행 중인지 확인
2. 브라우저에서 `http://127.0.0.1:8000/health` 접속
3. 가상환경 활성화 확인
4. 포트 8000이 사용 중인지 확인

### Excel 업로드 실패

**증상**: "Excel 업로드에 실패했습니다"

**해결:**
1. Excel 파일에 필수 컬럼 확인 (학년, 이름, 성별)
2. 성별 표기 확인 (남/여, M/F 가능)
3. 빈 행 제거

### Tauri 앱 실행 실패

**증상**: Rust 관련 오류

**해결:**
```bash
# Rust 설치 확인
rustc --version

# Rust 설치 (없는 경우)
# https://rustup.rs/ 에서 설치

# Rust 업데이트
rustup update
```

### 반편성 실행 실패

**증상**: "학생 데이터가 없습니다"

**해결:**
1. 학생 데이터 업로드 확인
2. 학년 필터 확인
3. 학생 수가 반 개수보다 많은지 확인

---

## 💡 팁

### Excel 파일 준비

- **필수 컬럼**: 학년, 이름, 성별
- **선택 컬럼**: 성적, 특기, 리더십점수 등 자유롭게 추가
- **성별 표기**: 남/여, M/F, 남자/여자 모두 가능

### 규칙 설정

- **우선순위**: 1-10 (10이 가장 중요)
- **가중치**: 규칙의 상대적 중요도
- **허용 오차**: 완벽한 균형은 어려우므로 적절한 오차 설정
- **규칙 개수**: 5-10개 권장 (너무 많으면 충돌 가능)

### 알고리즘 선택

- **Random**: 테스트용 (빠름, 낮은 점수)
- **Greedy**: 빠른 결과 필요 시 (중간 성능)
- **Genetic**: 최적 결과 필요 시 (느림, 높은 점수) ⭐ 권장

---

## 📞 지원

문제가 계속되면:
1. `backend/logs/app.log` 확인
2. 브라우저 개발자 도구 콘솔 확인
3. GitHub Issues에 문의

